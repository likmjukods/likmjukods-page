<!DOCTYPE html>
<html lang="lv">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>LikmjuKods</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0a0f13;
    --panel:#1a1a1a;
    --chip:#182226;
    --mint:#00ffcc;
    --mint-soft:#00e0b6;
    --red:#ff5c5c;
    --green:#36d979;
    --text:#ccc;
    --text-soft:#9aa7ad;
    --ring:0 0 15px #00ffcc80;
  }
  *{box-sizing:border-box}
  body{ margin:0; background:var(--bg); color:var(--text); font-family:'Roboto',sans-serif; }
  header{ background:linear-gradient(90deg,#000,#022); padding:14px 20px; display:flex; gap:16px; align-items:center; justify-content:space-between; flex-wrap:wrap; }
  .brand{ margin:0; font-size:28px; font-weight:900; background:linear-gradient(90deg,#00ffcc,#fff); -webkit-background-clip:text; -webkit-text-fill-color:transparent; font-family:'Orbitron',sans-serif; letter-spacing:.5px; }
  nav{ display:flex; flex-wrap:wrap; gap:8px; }
  nav a, nav button{ appearance:none; border:1px solid var(--mint); background:transparent; color:var(--mint); border-radius:8px; padding:8px 12px; font-weight:600; cursor:pointer; transition:.2s; text-decoration:none }
  nav button.active, nav a:hover, nav button:hover{ background:var(--mint); color:#000; }
  .coinbar{ max-width:1000px; margin:12px auto 0; padding:0 6px; text-align:right; color:var(--mint); font-weight:700; }

  section{ display:none; padding:20px; max-width:1000px; margin:16px auto; background:var(--panel); border-radius:12px; box-shadow:var(--ring); }
  section.active{ display:block; animation:fade .35s ease }
  h2{ color:var(--mint); text-align:center; margin:0 0 12px }
  @keyframes fade{ from{opacity:0; transform:translateY(4px)} to{opacity:1; transform:none} }

  /* SpÄ“les */
  .filters{ display:flex; gap:8px; flex-wrap:wrap; justify-content:center; margin:10px 0 16px }
  .chip{ background:#1c2730; color:var(--mint); border:1px solid var(--mint-soft); border-radius:999px; padding:6px 10px; font-weight:600; cursor:pointer; }
  .chip.active{ background:var(--mint); color:#000; }
  .game{ background:#132026; border:1px solid #0f3639; border-radius:10px; padding:12px; margin:10px 0; display:grid; grid-template-columns:1fr auto; gap:10px; align-items:center; }
  .title{ font-weight:700; }
  .sub{ color:var(--text-soft); font-size:.95em; margin-top:2px }
  .row{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
  .status{ display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border-radius:999px; background:#0f1518; border:1px solid #20444a; color:#9fe4d6; font-weight:700; }
  .dot{ width:8px; height:8px; border-radius:50%; background:var(--red); box-shadow:0 0 8px var(--red) }
  .soon{ color:#f5d06a }
  .done{ color:#8aa2a9 }
  .odds{ font-weight:800; color:#fff }
  .delta{ padding:2px 6px; border-radius:999px; font-weight:700; border:1px solid transparent }
  .delta.up{ color:var(--green); border-color:var(--green); }
  .delta.down{ color:var(--red); border-color:var(--red); }
  .aside{ display:flex; align-items:center; gap:8px }
  .aside input{ width:90px; padding:8px; border-radius:8px; border:1px solid #0e2a2f; background:#0e171b; color:#fff; }
  .aside button{ padding:9px 12px; border:none; border-radius:8px; background:var(--mint); color:#000; font-weight:800; cursor:pointer; }
  .tag{ background:#0e1b1e; border:1px solid #21474e; color:#9ed7cb; padding:4px 8px; border-radius:999px; font-weight:700 }

  /* Abonementi + citi */
  .plans{ display:flex; flex-wrap:wrap; gap:12px; justify-content:center }
  .plan{ width:220px; background:#132026; border:1px solid #0f3639; border-radius:12px; padding:16px; }
  .plan h3{ color:var(--mint); margin:0 0 8px }
  .center{ text-align:center }
  footer{ text-align:center; color:#66757a; margin:28px 0 22px; font-size:.9em }

  @media (max-width:640px){
    header{ justify-content:center }
  }
</style>
</head>
<body>
  <header>
    <h1 class="brand">LIKMIJUKODS</h1>
    <nav>
      <button onclick="showSection('sakums')" id="btn-sakums" class="active">SÄkums</button>
      <button onclick="showSection('speles')" id="btn-speles">SpÄ“les</button>
      <button onclick="showSection('rezultati')" id="btn-rezultati">RezultÄti</button>
      <button onclick="showSection('abonementi')" id="btn-abonementi">Abonementi</button>
      <button onclick="showSection('bonusi')" id="btn-bonusi">Bonusi</button>
      <a href="register.html">ReÄ£istrÄ“ties</a>
      <a href="login.html">Pieteikties</a>
      <a href="profile.html">Profils</a>
    </nav>
  </header>

  <div class="coinbar">ğŸª™ Coin bilance: <span id="coin-balance">1000</span></div>

  <!-- SÄkums -->
  <section id="sakums" class="active">
    <h2>SÄkums</h2>
    <p class="center">Laipni lÅ«dzam LikmjuKods â€” tavi AI sporta prognoÅ¾u partneri.</p>
  </section>

  <!-- SpÄ“les -->
  <section id="speles">
    <h2>SpÄ“les</h2>
    <div class="filters" id="sport-filters"></div>
    <div id="games-list"></div>
  </section>

  <!-- RezultÄti -->
  <section id="rezultati">
    <h2>RezultÄti</h2>
    <p class="center">PrognoÅ¾u precizitÄte: 78% pÄ“dÄ“jo 30 dienu laikÄ.</p>
    <ul style="max-width:720px;margin:12px auto">
      <li>âœ… Real Madrid vs Barcelona â€“ Uzvara</li>
      <li>âŒ RÄ«ga vs Jokerit â€“ ZaudÄ“jums</li>
    </ul>
  </section>

  <!-- Abonementi -->
  <section id="abonementi">
    <h2>Abonementi</h2>
    <div class="plans">
      <div class="plan"><h3>Basic</h3><div>0.99â‚¬/mÄ“n<br>Bez reklÄmÄm</div></div>
      <div class="plan"><h3>Silver</h3><div>2.99â‚¬/mÄ“n<br>1 prognoze/dienÄ</div></div>
      <div class="plan"><h3>Gold</h3><div>4.99â‚¬/mÄ“n<br>3 prognozes/dienÄ</div></div>
      <div class="plan"><h3>Platinum</h3><div>9.99â‚¬/mÄ“n<br>NeierobeÅ¾oti</div></div>
      <div class="plan"><h3>Elite</h3><div>19.99â‚¬/mÄ“n<br>VIP serviss</div></div>
    </div>
  </section>

  <!-- Bonusi -->
  <section id="bonusi">
    <h2>Bonusi</h2>
    <div class="center" style="max-width:720px;margin:0 auto">
      <p>ğŸ Pirmais mÄ“nesis -50%</p>
      <p>ğŸ‰ Uzaicini draugu â€” saÅ†em 100 Coin</p>
    </div>
  </section>

  <footer>
    <div>Partneri: (logos here)</div>
    <div style="margin-top:6px"><a href="#">Telegram</a> Â· <a href="#">Instagram</a> Â· <a href="#">X</a></div>
    <div style="margin-top:8px">Â© 2025 LikmjuKods. All rights reserved.</div>
  </footer>

<script>
  // â€”â€”â€” SPA
  function showSection(id){
    document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
    document.getElementById('btn-'+id)?.classList.add('active');
    window.scrollTo({top:0, behavior:'smooth'});
  }

  // â€”â€”â€” Coin bilance (persistÄ“ lokÄli)
  const BAL_KEY = 'lk_coins';
  let coinBalance = Number(localStorage.getItem(BAL_KEY) || 1000);
  const balEl = document.getElementById('coin-balance');
  const setBal = v => { coinBalance = v; balEl.textContent = v; localStorage.setItem(BAL_KEY, v); };
  setBal(coinBalance);

  // â€”â€”â€” SpÄ“Ä¼u ielÄde + zÄ«mÄ“Å¡ana
  const gamesList = document.getElementById('games-list');
  const filterBox = document.getElementById('sport-filters');
  let allGames = [];
  let currentSport = 'Visi';

  const statusRank = s => ({live:0, soon:1, done:3})[s] ?? 2;

  async function loadGames(){
    try{
      const res = await fetch('games.json',{cache:'no-store'});
      allGames = await res.json();
      buildFilters();
      render();
    }catch(e){
      gamesList.innerHTML = '<div class="center">NeizdevÄs ielÄdÄ“t spÄ“les.</div>';
      console.error(e);
    }
  }

  function buildFilters(){
    const sports = Array.from(new Set(allGames.map(g=>g.sport)));
    filterBox.innerHTML = '';
    addFilterChip('Visi', true);
    sports.forEach(s=>addFilterChip(s));
  }
  function addFilterChip(name, active=false){
    const btn = document.createElement('button');
    btn.className = 'chip' + (active?' active':'');
    btn.textContent = name;
    btn.onclick = ()=>{
      currentSport = name;
      [...filterBox.children].forEach(c=>c.classList.remove('active'));
      btn.classList.add('active');
      render();
    };
    filterBox.appendChild(btn);
  }

  function render(){
    const data = allGames
      .filter(g => currentSport==='Visi' || g.sport===currentSport)
      .sort((a,b)=> statusRank(a.status)-statusRank(b.status));

    gamesList.innerHTML = '';
    data.forEach(g=>{
      const wrap = document.createElement('div');
      wrap.className = 'game';

      const left = document.createElement('div');
      const title = document.createElement('div');
      title.className = 'title';
      title.textContent = `${g.teams}`;

      const sub = document.createElement('div');
      sub.className = 'sub';
      sub.innerHTML = `
        Sporta veids: ${g.sport}${g.tournament?` Â· TurnÄ«rs: ${g.tournament}`:''}
        Â· Tirgus: <b>${g.market}</b>
        Â· Koef: <span class="odds">${Number(g.odds).toFixed(2)}</span>
        ${g.time && g.time!=='LIVE' ? ` Â· ${g.time}` : ''}
      `;

      const row = document.createElement('div'); row.className='row';
      // status badge
      const st = document.createElement('span'); st.className='status';
      if(g.status==='live'){ st.innerHTML = `<span class="dot"></span> LIVE`; }
      else if(g.status==='soon'){ st.innerHTML = `<span class="soon">SÄks drÄ«z</span>`; }
      else if(g.status==='done'){ st.innerHTML = `<span class="done">Beigusies</span>`; }
      else { st.textContent = g.status_label || g.status || 'â€”'; }
      row.appendChild(st);

      // koef. izmaiÅ†as
      if(g.odds_change){
        const num = Number(g.odds_change);
        const chip = document.createElement('span');
        chip.className = 'delta ' + (num>=0 ? 'up' : 'down');
        chip.textContent = (num>=0?'+':'') + num.toFixed(2);
        row.appendChild(chip);
      }

      left.appendChild(title);
      left.appendChild(row);
      left.appendChild(sub);

      const right = document.createElement('div');
      right.className = 'aside';
      right.innerHTML = `<span class="tag">Coin</span>
        <input type="number" min="1" placeholder="Coin" id="bet-${g.id}">
        <button ${g.status==='done'?'disabled':''}>Veikt likmi</button>`;
      right.querySelector('button').onclick = ()=> placeBet(`bet-${g.id}`, Number(g.odds));

      wrap.appendChild(left);
      wrap.appendChild(right);
      gamesList.appendChild(wrap);
    });
  }

  // â€”â€”â€” Likmes (DEMO: uzvara uzreiz)
  function placeBet(inputId, odds){
    const el = document.getElementById(inputId);
    const amount = Math.floor(Number(el.value||0));
    if(!amount || amount<1) return alert('Ievadi derÄ«gu Coin skaitu.');
    if(amount > coinBalance) return alert('Nepietiekams Coin daudzums.');
    // demo: uzvara
    const win = Math.floor(amount * odds);
    setBal(coinBalance - amount + win);
    alert(`Tu uzvarÄ“ji! Ieguvums: ${win} ğŸª™`);
    el.value = '';
  }

  // start
  showSection('sakums');
  loadGames();
</script>
</body>
</html>
